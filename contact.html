<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Itz FN Consulting â€” Contact Us</title>
    <meta name="description" content="Get in touch with Itz FN Consulting to discuss your digital transformation and consulting needs." />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#1E40AF', // Deep Corporate Blue (Blue 800)
              accent: '#3B82F6', // Lighter Accent Blue (Blue 500)
              background: '#F1F5F9' // Soft Slate Gray Background
            },
            container: {
              center: true,
              padding: '1rem'
            }
          }
        }
      }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
      html { scroll-behavior: smooth; }
      body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
    </style>
</head>
<body class="bg-background text-slate-800">
    
    <!-- Header / Navigation -->
    <header class="bg-primary text-white sticky top-0 z-50 shadow-xl">
      <div class="container max-w-7xl flex items-center justify-between h-20">
        <a href="index.html" class="inline-flex items-center gap-3 text-2xl font-extrabold tracking-tight">
          <span class="inline-block h-8 w-8 rounded-full bg-accent ring-2 ring-white/50"></span>
          <span class="hidden sm:inline">Itz FN Consulting</span>
          <span class="sm:hidden">Itz FN</span>
        </a>

        <!-- Desktop Nav -->
        <nav class="hidden md:flex items-center gap-8 text-sm font-medium">
          <a href="index.html" class="hover:text-slate-200">Home</a>
          <a href="about.html" class="hover:text-slate-200">About</a>
          <a href="services.html" class="hover:text-slate-200">Services</a>
          <a href="insights.html" class="hover:text-slate-200">Insights</a>
          <a href="contact.html" class="hover:text-slate-200 border-b-2 border-accent pb-1">Contact</a>
        </nav>

        <!-- Mobile Menu Button (Hamburger) -->
        <button id="mobileMenuButton" class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg ring-1 ring-white/30 hover:bg-white/10 focus:outline-none" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu">
          <svg id="menuIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
            <path fill-rule="evenodd" d="M3.75 6.75A.75.75 0 0 1 4.5 6h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75zm0 5.25a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1-.75-.75zm.75 4.5a.75.75 0 0 0 0 1.5h15a.75.75 0 0 0 0-1.5h-15z" clip-rule="evenodd" />
          </svg>
           <svg id="closeIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="hidden h-5 w-5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Mobile Nav -->
      <div id="mobileMenu" class="md:hidden hidden border-t border-white/10 bg-primary/95 backdrop-blur supports-[backdrop-filter]:bg-primary/80">
        <nav class="container max-w-7xl py-3 text-sm font-medium">
          <a href="index.html" class="block px-3 py-2 rounded-lg hover:bg-white/10">Home</a>
          <a href="about.html" class="block px-3 py-2 rounded-lg hover:bg-white/10">About</a>
          <a href="services.html" class="block px-3 py-2 rounded-lg hover:bg-white/10">Services</a>
          <a href="contact.html" class="block px-3 py-2 rounded-lg bg-white/10">Contact</a>
        </nav>
      </div>
    </header>

    <main>
        <!-- Contact Hero Section -->
        <section class="bg-white border-b border-slate-200">
            <div class="container max-w-7xl py-16 md:py-20">
                <div class="max-w-4xl mx-auto text-center">
                    <p class="text-sm font-semibold tracking-wider text-accent uppercase">Let's Connect</p>
                    <h1 class="mt-2 text-4xl sm:text-5xl font-extrabold tracking-tight text-slate-900">
                        Start Your Digital Conversation
                    </h1>
                    <p class="mt-4 text-xl text-slate-600">
                        Whether you have a specific project in mind or just want to explore opportunities, we are ready to listen. Fill out the form or reach us directly.
                    </p>
                </div>
            </div>
        </section>

        <!-- Contact Form and Info Section -->
        <section class="py-16 md:py-24 bg-background">
            <div class="container max-w-7xl">
                <div class="bg-white rounded-xl shadow-2xl overflow-hidden lg:grid lg:grid-cols-3">
                    
                    <!-- Contact Information Panel (Left/Top) -->
                    <div class="bg-primary p-8 md:p-12 text-white">
                        <h2 class="text-2xl font-bold mb-4">Contact Information</h2>
                        <p class="mb-8 text-slate-200">Reach out to our main offices during business hours (9am - 5pm EST).</p>
                        
                        <div class="space-y-6">
                            <!-- Location -->
                            <div class="flex items-start gap-4">
                                <i data-lucide="map-pin" class="h-6 w-6 text-accent mt-1 flex-shrink-0"></i>
                                <div>
                                    <h3 class="font-semibold">Global Headquarters</h3>
                                    <p class="text-slate-300 text-sm">123 Consulting Tower, Suite 100<br>Digital City, DC 10001</p>
                                </div>
                            </div>
                            <!-- Phone -->
                            <div class="flex items-start gap-4">
                                <i data-lucide="phone" class="h-6 w-6 text-accent mt-1 flex-shrink-0"></i>
                                <div>
                                    <h3 class="font-semibold">Phone Support</h3>
                                    <p class="text-slate-300 text-sm">+1 (555) 123-4567</p>
                                </div>
                            </div>
                            <!-- Email -->
                            <div class="flex items-start gap-4">
                                <i data-lucide="mail" class="h-6 w-6 text-accent mt-1 flex-shrink-0"></i>
                                <div>
                                    <h3 class="font-semibold">Email</h3>
                                    <p class="text-slate-300 text-sm">inquiry@itzfn.consulting</p>
                                </div>
                            </div>
                        </div>

                        <!-- Map Placeholder -->
                        <div class="mt-10 pt-6 border-t border-white/20">
                            <h3 class="text-xl font-bold mb-3">Our Location</h3>
                            <div class="bg-primary/50 flex flex-col items-center justify-center h-48 w-full rounded-lg border-2 border-dashed border-white/50 text-slate-200 text-center text-sm p-4">
                                <i data-lucide="map" class="h-6 w-6 mb-2"></i>
                                <p>Interactive Map Placeholder</p>
                                <p class="text-xs mt-1">(Real map requires external API integration.)</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact Form (Right/Bottom) -->
                    <div class="p-8 md:p-12 lg:col-span-2">
                        <h2 class="text-2xl font-bold text-slate-900 mb-6">Send Us A Message</h2>
                        
                        <form id="contactForm" class="space-y-6">
                            <!-- Name and Email Group -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-slate-700 mb-1">Full Name</label>
                                    <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-accent focus:border-accent transition duration-150">
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-slate-700 mb-1">Work Email</label>
                                    <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-accent focus:border-accent transition duration-150">
                                </div>
                            </div>

                            <!-- Company and Service Group -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div>
                                    <label for="company" class="block text-sm font-medium text-slate-700 mb-1">Company / Organization</label>
                                    <input type="text" id="company" name="company" class="w-full px-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-accent focus:border-accent transition duration-150">
                                </div>
                                <div>
                                    <label for="service" class="block text-sm font-medium text-slate-700 mb-1">Area of Interest</label>
                                    <select id="service" name="service" required class="w-full px-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-accent focus:border-accent transition duration-150">
                                        <option value="">-- Select a Service --</option>
                                        <option value="strategy">Digital Strategy</option>
                                        <option value="technology">Technology & Engineering</option>
                                        <option value="design">Product Design & UX</option>
                                        <option value="general">General Inquiry</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Message -->
                            <div>
                                <label for="message" class="block text-sm font-medium text-slate-700 mb-1">How can we help you?</label>
                                <textarea id="message" name="message" rows="4" required class="w-full px-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-accent focus:border-accent transition duration-150"></textarea>
                            </div>

                            <!-- Submission Status Message Box (Custom Alert) -->
                            <div id="statusMessage" class="hidden p-4 rounded-xl text-center font-medium" role="alert"></div>

                            <!-- Submit Button -->
                            <div>
                                <button type="submit" id="submitButton" class="w-full inline-flex items-center justify-center rounded-xl bg-accent px-6 py-3 text-white font-semibold shadow-lg hover:bg-accent/90 transition duration-150 ring-4 ring-transparent hover:ring-accent/20 disabled:opacity-50" aria-busy="false">
                                    Send Inquiry
                                </button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </section>
        
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white">
        <div class="container max-w-7xl py-12 px-4 overflow-hidden sm:px-6 lg:px-8">
            <nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer">
                <div class="px-5 py-2">
                    <a href="index.html" class="text-base text-gray-400 hover:text-white transition duration-150">Home</a>
                </div>
                <div class="px-5 py-2">
                    <a href="about.html" class="text-base text-gray-400 hover:text-white transition duration-150">About</a>
                </div>
                <div class="px-5 py-2">
                    <a href="services.html" class="text-base text-gray-400 hover:text-white transition duration-150">Services</a>
                </div>
                <div class="px-5 py-2">
                    <a href="contact.html" class="text-base text-white font-medium transition duration-150">Contact</a>
                </div>
            </nav>
            <p class="mt-8 text-center text-base text-gray-400">
                &copy; 2024 Itz FN Consulting. All rights reserved.
            </p>
        </div>
    </footer>

    <!-- JavaScript for Mobile Menu Toggle and Form Submission -->
    <script type="module">
        // --- Firebase Imports ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global Firebase instances and app ID
        let app;
        let db;
        let auth;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        /**
         * Initializes Firebase and authenticates the user.
         */
        async function setupFirebase() {
            if (!firebaseConfig) {
                console.error("Firebase config is missing.");
                return;
            }

            try {
                // Initialize services
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                // Set Firestore logging for debugging
                setLogLevel('Debug');

                // Authenticate
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    // Fallback to anonymous sign-in if no custom token is available
                    await signInAnonymously(auth);
                }
                console.log("Firebase initialized and user authenticated.");
            } catch (error) {
                console.error("Error setting up Firebase or authentication:", error);
            }
        }
        
        /**
         * Updates the status message box in the UI.
         * @param {string} type - 'loading', 'success', or 'error'
         * @param {string} message - The message to display.
         */
        function updateStatus(type, message) {
            const statusMessage = document.getElementById('statusMessage');
            
            // Reset classes
            statusMessage.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'bg-green-100', 'text-green-700', 'bg-blue-100', 'text-blue-700');

            if (type === 'loading') {
                statusMessage.classList.add('bg-blue-100', 'text-blue-700');
            } else if (type === 'success') {
                statusMessage.classList.add('bg-green-100', 'text-green-700');
            } else if (type === 'error') {
                statusMessage.classList.add('bg-red-100', 'text-red-700');
            }
            
            statusMessage.innerHTML = message;
            statusMessage.classList.remove('hidden');
        }

        /**
         * Handles the form submission and saves data to Firestore.
         */
        async function submitInquiry(formData) {
            const submitButton = document.getElementById('submitButton');

            if (!db) {
                updateStatus('error', '<strong>Error!</strong> Database connection failed. Please try again later.');
                return;
            }

            try {
                submitButton.disabled = true;
                submitButton.setAttribute('aria-busy', 'true');
                submitButton.textContent = 'Sending...';
                updateStatus('loading', 'Sending inquiry... Please wait.');

                // Construct the inquiry object
                const inquiryData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    company: formData.get('company'),
                    service: formData.get('service'),
                    message: formData.get('message'),
                    timestamp: new Date().toISOString(),
                    userId: auth.currentUser ? auth.currentUser.uid : 'anonymous'
                };

                // Define the public collection path for contact inquiries
                const inquiryCollectionPath = `artifacts/${appId}/public/data/inquiries`;
                const inquiriesCollectionRef = collection(db, inquiryCollectionPath);
                
                // Save to Firestore
                await addDoc(inquiriesCollectionRef, inquiryData);

                // Success
                updateStatus('success', '<strong>Success!</strong> Your inquiry has been sent to our team. We will respond within one business day.');
                document.getElementById('contactForm').reset();

            } catch (error) {
                console.error("Error submitting document:", error);
                updateStatus('error', `<strong>Error!</strong> Failed to save message. Details: ${error.message.substring(0, 100)}...`);
            } finally {
                // Re-enable button
                submitButton.disabled = false;
                submitButton.setAttribute('aria-busy', 'false');
                submitButton.textContent = 'Send Inquiry';
            }
        }

        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize Firebase services first
            await setupFirebase();

            // --- Mobile Menu Toggle Logic ---
            const menuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            const menuIcon = document.getElementById('menuIcon');
            const closeIcon = document.getElementById('closeIcon');

            menuButton.addEventListener('click', () => {
                const isExpanded = menuButton.getAttribute('aria-expanded') === 'true' || false;
                
                // Toggle state
                menuButton.setAttribute('aria-expanded', !isExpanded);
                
                // Toggle menu visibility
                if (isExpanded) {
                    mobileMenu.classList.add('hidden');
                    menuIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                } else {
                    mobileMenu.classList.remove('hidden');
                    menuIcon.classList.add('hidden');
                    closeIcon.classList.remove('hidden');
                }
            });

            // --- Contact Form Submission Logic (Now Firebase Enabled) ---
            const contactForm = document.getElementById('contactForm');

            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (!db) {
                    updateStatus('error', '<strong>Initialization Error!</strong> The application could not connect to the database.');
                    return;
                }
                
                const formData = new FormData(this);
                submitInquiry(formData);
            });
            
            // Initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>
